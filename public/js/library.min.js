/*!
 * Portugal Events - Symfony Website v1.1.0 (https://cpanel.myfeup.com)
 * Copyright 2020-2021 costapt
 * Licensed under MIT (https://github.com/rcostapr/symfony-website/blob/master/LICENSE)
 */

function registerRawData(){$(".btn-raw").on("click",function(){$(this).hasClass("btn-raw-up")?($(this).removeClass("btn-raw-up"),$(this).addClass("btn-raw-down")):($(this).removeClass("btn-raw-down"),$(this).addClass("btn-raw-up"));var e=$(this).closest(".card").find(".card-body");$(e).slideToggle(500)})}function scrollTo(e){e&&$("html,body").animate({scrollTop:e.offset().top-$(window).height()/2},1e3)}function clearOptions(e){let t=e.find("option");t.each(function(e){option=$(this),""==option.val()?option.prop("selected",!0):option.remove()})}function getPlaceHolders(e){var t=$(".btn-sync");params={menu:"form",module:"form",type:"placeholders",formid:e},sendRequest(t,params,function(e){$.each(e.formfields,function(e,t){element=$("#"+e),element.attr("placeholder",t)})})}function sendRequest(n,e,t=null){n.addClass("btn-spin"),$.ajax({type:"POST",url:"/admin/update",data:e,dataType:"json",success:function(e){return n.removeClass("btn-spin"),e.error?(toastr.warning(e.error,"Aviso:"),!1):e.session?(toastr.error(e.session,"Sessão Expirou:"),setTimeout(function(){location.replace("/")},2e3),!1):(!0===e.success&&t&&t(e),void(!1===e.success&&toastr.error(e.info,"Aviso:",{onHidden:function(){e.location&&window.location.replace(e.location)},timeOut:800})))},error:function(e,t,o){n.removeClass("btn-spin");o=e.status+"<br>"+o;toastr.error(o,"Aviso:")}})}function sendRequestTo(e,n,t,o=null){n.addClass("btn-spin"),$.ajax({type:"POST",url:e,data:t,dataType:"json",success:function(e){return n.removeClass("btn-spin"),e.error?(toastr.warning(e.error,"Aviso:"),!1):e.session?(toastr.error(e.session,"Sessão Expirou:"),setTimeout(function(){location.replace("/")},2e3),!1):(!0===e.success&&o&&o(e),void(!1===e.success&&toastr.error(e.info,"Aviso:",{onHidden:function(){e.location&&window.location.replace(e.location)},timeOut:800})))},error:function(e,t,o){n.removeClass("btn-spin");o=e.status+"<br>"+o;toastr.error(o,"Aviso:")}})}function sendForm(e,t=null){$.ajax({method:"POST",type:"POST",url:"/admin/update",data:e,enctype:"multipart/form-data",cache:!1,contentType:!1,processData:!1,dataType:"json",success:function(e){return $(".btn-spin").removeClass("btn-spin"),e.error?(console.log(e),toastr.warning(e.error,"Aviso:"),!1):e.session?(toastr.error(e.session,"Sessão Expirou:"),setTimeout(function(){window.location("/")},2e3),!1):void(!0===e.success&&t&&t(e))},error:function(e,t,o){$(".btn-spin").removeClass("btn-spin"),toastr.error(o,"Error: "+e.status)}})}function sendFormTo(e,t,o=null){$.ajax({method:"POST",type:"POST",url:e,data:t,enctype:"multipart/form-data",cache:!1,contentType:!1,processData:!1,dataType:"json",success:function(e){return $(".btn-spin").removeClass("btn-spin"),e.error?(console.log(e),toastr.warning(e.error,"Aviso:"),!1):e.session?(toastr.error(e.session,"Sessão Expirou:"),setTimeout(function(){window.location("/")},2e3),!1):void(!0===e.success&&o&&o(e))},error:function(e,t,o){$(".btn-spin").removeClass("btn-spin"),toastr.error(o,"Error: "+e.status)}})}function makeRequest(e,n,t,o=null){n.addClass("btn-spin"),$.ajax({type:"POST",url:e,data:t,dataType:"json",success:function(e){return n.removeClass("btn-spin"),e.error?(toastr.warning(e.error,"Aviso:"),!1):e.session?(toastr.error(e.session,"Sessão Expirou:"),setTimeout(function(){location.replace("/")},2e3),!1):(!0===e.success&&o&&o(e),void(!1===e.success&&toastr.error(e.info,"Aviso:",{onHidden:function(){e.location&&window.location.replace(e.location)},timeOut:800})))},error:function(e,t,o){n.removeClass("btn-spin"),toastr.error(o,"Error: "+e.status)}})}function copyToClipboard(e){let t=e.data("target"),o=document.getElementById(t);o.focus(),o.select();try{document.execCommand("copy")&&($("#"+t).addClass("copied"),setTimeout(function(){$("#"+t).removeClass("copied"),o.blur()},600))}catch(e){console.log("Oops, unable to copy")}}function getDataTableOptions(){return{dom:"lBfrtip",buttons:[{extend:"copy",className:"btn btn-copy"},{extend:"csv",className:"btn btn-csv"},{extend:"excel",className:"btn btn-excel"},{extend:"pdf",className:"btn btn-pdf"},{extend:"print",className:"btn btn-print"}],language:{decimal:".",emptyTable:"Sem Dados Disponíveis",info:"Mostrar _START_ até _END_ de _TOTAL_ registos",infoEmpty:"Sem Registos",infoFiltered:"(filtro de um total de _MAX_ registos)",infoPostFix:"",thousands:",",lengthMenu:"Mostar _MENU_ Registos",loadingRecords:"Loading...",processing:"Processar...",search:"",zeroRecords:"Não foram encontrados registos",paginate:{previous:"&lt;",next:"&gt;",first:"&lt;&lt;",last:"&gt;&gt;"},aria:{sortAscending:": Ordenar Ascendente",sortDescending:": Ordenar Descendente"}},paging:!1}}function getSimpleDataTableOptions(){return{dom:"lBfrtip",buttons:[],language:{decimal:".",emptyTable:"Sem Dados Disponíveis",info:"Mostrar _START_ até _END_ de _TOTAL_ registos",infoEmpty:"Sem Registos",infoFiltered:"(filtro de um total de _MAX_ registos)",infoPostFix:"",thousands:",",lengthMenu:"Mostar _MENU_ Registos",loadingRecords:"Loading...",processing:"Processar...",search:"",zeroRecords:"Não foram encontrados registos",paginate:{previous:"&lt;",next:"&gt;",first:"&lt;&lt;",last:"&gt;&gt;"},aria:{sortAscending:": Ordenar Ascendente",sortDescending:": Ordenar Descendente"}},paging:!1}}function getToastrOptions(){return{closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-top-right",preventDuplicates:!1,onclick:null,showDuration:"400",hideDuration:"1000",timeOut:"3000",extendedTimeOut:"500",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut",tapToDismiss:!1}}function toggleActive(e){e.prop("disabled",!0);let t=e.data("active"),o=e.find(".far");e.addClass("fa-spin"),setTimeout(()=>{e.removeClass("fa-spin"),o.toggleClass("fa-check-square"),o.toggleClass("fa-square"),o.hasClass("fa-check-square")?o.css("color","green"):o.css("color","red"),e.data("active","1"==t?"0":"1"),e.prop("disabled",!1)},500)}function setActive(e){var t=e.data("active");let o=e.find("[data-fa-i2svg]");"1"==t?(o.removeClass("fa-square"),o.addClass("fa-check-square"),o.css("color","green")):(o.removeClass("fa-check-square"),o.addClass("fa-square"),o.css("color","red"))}$.datepicker.regional.pt={closeText:"Fechar",prevText:"Anterior",nextText:"Seguinte",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],weekHeader:"Sem",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.setDefaults($.datepicker.regional.pt),$.fn.select2.defaults.set("theme","bootstrap4"),$.fn.select2.defaults.set("language","pt"),Dropzone.autoDiscover=!1,$(function(){$("#adminmodal").on("hidden.bs.modal",function(e){$(this).find(".modal-title").empty(),$(this).find(".modal-body").empty(),$(this).find(".modal-dialog").hasClass("modal-xl")||$(this).find(".modal-dialog").addClass("modal-xl")}),$(".btn-active").on("click",function(){toggleActive($(this))}),registerRawData()});const toBase64=n=>new Promise((e,t)=>{const o=new FileReader;o.readAsDataURL(n),o.onload=()=>e(o.result),o.onerror=e=>t(e)});let getBase64File=(e,t,o)=>{for(var n=atob(e),s=new Array(n.length),a=0;a<n.length;a++)s[a]=n.charCodeAt(a);e=new Uint8Array(s),o=new Blob([e],{type:o}),o=URL.createObjectURL(o);let r=document.createElement("a");r.setAttribute("id","downloadfile"),r.setAttribute("href",o),r.setAttribute("download",t);t=new MouseEvent("click");r.dispatchEvent(t)};function number_format(e,t,o,n){e=(e+"").replace(",","").replace(" ","");var s=isFinite(+e)?+e:0,e=isFinite(+t)?Math.abs(t):0,t=void 0===n?",":n,n=void 0===o?".":o,o="";return 3<(o=(e?function(e,t){t=Math.pow(10,t);return""+Math.round(e*t)/t}(s,e):""+Math.round(s)).split("."))[0].length&&(o[0]=o[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,t)),(o[1]||"").length<e&&(o[1]=o[1]||"",o[1]+=new Array(e-o[1].length+1).join("0")),o.join(n)}function bs_input_file(){$(".input-file").before(function(){if(!$(this).prev().hasClass("input-ghost")){var e=$("<input type='file' class='input-ghost' style='visibility:hidden; height:0'>");return e.attr("name",$(this).attr("name")),e.on("change",function(){e.next(e).find("input").val(e.val().split("\\").pop())}),$(this).find("button.btn-choose").on("click",function(){e.trigger("click")}),$(this).find("button.btn-reset").on("click",function(){e.val(null),$(this).parents(".input-file").find("input").val(null)}),$(this).find("input").css("cursor","pointer"),$(this).find("input").on("mousedown",function(){return $(this).parents(".input-file").prev().trigger("click"),!1}),e}})}function limitChar(e){var t=e.parent().find("div.countdown");let o=e.val();var n=500-o.length;$(t).html("#"+n),n<0&&(e.val(o.substring(0,500)),$(t).html("#0"))}function dateRange(e,o,t=!1){const n=new Date;var s=new Date(n.getFullYear()+1,n.getMonth(),n.getDate()),a=("0"+n.getDate()).slice(-2)+"-"+("0"+(n.getMonth()+1)).slice(-2)+"-"+n.getFullYear();("0"+s.getDate()).slice(-2),("0"+(s.getMonth()+1)).slice(-2),s.getFullYear();e.attr("readonly",!0),o.attr("readonly",!0),e.css("cursor","pointer"),o.css("cursor","pointer"),t||(e.val(a),o.val(a));let r={showAnim:"slideDown",dateFormat:"dd-mm-yy",changeMonth:!0,changeYear:!0,minDate:-30,defaultDate:0,onSelect:function(e,t){o.datepicker("option","minDate",e)}},i={showAnim:"slideDown",dateFormat:"dd-mm-yy",changeMonth:!0,changeYear:!0,minDate:-30,defaultDate:0};t&&(r.defaultDate=e.val(),i.defaultDate=o.val()),e.datepicker(r),o.datepicker(i),e.on("change",checkValidDate),o.on("change",checkValidDate)}function checkValidDate(){let e=$(this);var t=e.val().split("-");3!==t.length&&e.val("");var o=parseInt(t[0]);(o<1||31<o)&&e.val("");var n=parseInt(t[1])-1;(n<0||12<n)&&e.val("");t=parseInt(t[2]);"Invalid Date"==new Date(t,n,o)&&e.val("")}